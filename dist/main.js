!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=5)}([function(t,n,e){"use strict";var o=function t(n,e){return Array.isArray(e)?e.forEach(function(e){t(n,e)}):n.push(e),n};t.exports=function(t,n){for(var e=[],r=arguments.length-2;r-- >0;)e[r]=arguments[r+2];var i=o([],e);return"function"==typeof t?t(n||{},i):{name:t||"div",attrs:n||{},children:i.filter(function(t){return null!=t})}}},function(t,n,e){"use strict";t.exports=function(){var t=Object.create(null),n={on:function(e,o){return!t[e]&&(t[e]=[]),t[e].push(o),n},off:function(e,o){return t[e]&&(t[e]=null==o?[]:t[e].filter(function(t){return t!==o})),n},emit:function(e,o){return t[e]&&t[e].forEach(function(t){t(o,n.emit)}),n}};return n}},function(t,n,e){"use strict";var o=window.location;t.exports=function(){var t=[],n=null,e=null,r={path:null,render:null,route:function(e,o){return e&&o&&("*"===e?n=o:t.push({path:e.split("/"),to:o})),r},redirect:function(t){o.hash=t},start:function(){e&&r.stop(),e=function(){var e=o.hash;r.path=e,function(t,n,e,o){if(t){var r=t.split("/");if(r.length&&n.some(function(t){var n=t.path;if(r.length!==n.length)return!1;var e=Object.create(null),i=n.every(function(t,n){var o=r[n];return":"===t[0]?(e[t.substring(1)]=o,!0):t===o});return i&&t.to(e,o),i}))return}e&&e({},o)}(e,t,n,i)},window.addEventListener("hashchange",e),e()},stop:function(){window.removeEventListener("hashchange",e),e=null}},i=function(t){r.render=t,r.render()};return r}},function(t,n,e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=Array.isArray,i=Object.getOwnPropertyNames,u=Array.prototype.slice,l=function(t,n){if("TEXTAREA"!==t.nodeName){var e=d(t,n),r=t.firstChild;n.forEach(function(n){var i=o(n);"string"===i||"number"===i?r=c(t,r,""+n):k(n)&&(r=a(t,r,e,n))}),f(t,e),s(t,n)}},c=function(t,n,e){return n?3===n.nodeType?(n.nodeValue!==e&&(n.nodeValue=e),n=n.nextSibling):O(t,N(e),n):x(t,N(e)),n},a=function(t,n,e,o){var r=o.attrs.domkey,i=r?e[r]:null;if(i)delete e[r],v(i,o.attrs),l(i,o.children),i===n?n=n.nextSibling:O(t,i,n);else if(n)if(r)O(t,p(o),n);else for(;;){if(!n){x(t,p(o));break}if(!j(e,n)){w(n,o)?(v(n,o.attrs),l(n,o.children),n=n.nextSibling):O(t,p(o),n);break}n=n.nextSibling}else x(t,p(o));return n},d=function(t,n){var e=[];n.filter(function(t){return t&&t.attrs&&t.attrs.domkey}).forEach(function(t){e.push(t.attrs.domkey)});var o=Object.create(null);return P(t,function(n){var r=S(n);r&&(e.indexOf(r)>=0?o[r]=n:A(t,n))}),o},f=function(t,n){i(n).forEach(function(e){A(t,n[e])})},s=function(t,n){_(t.childNodes.length-n.length,function(){A(t,t.lastChild)})},p=function(t){var n=document.createElement(t.name);return v(n,t.attrs),l(n,t.children),n},v=function(t,n){h(t,n),i(n).forEach(function(e){m(t,e,n[e])}),y(t,n)},h=function(t,n){u.call(t.attributes).forEach(function(e){var o=e.name;n.hasOwnProperty(o)&&null!=n[o]||T(t,o)})},m=function(t,n,e){var r=o(e);"style"===n?b(t,n,e):n in t?(C(t,n,e),"boolean"===r&&g(t,n,e)):"function"===r||"o"===n[0]&&"n"===n[1]?C(t,n,e):"boolean"===r?g(t,n,e):b(t,n,e)},y=function(t,n){var e=t.nodeName,o=null==n.value?"":""+n.value,r=!!n.checked,i=!!n.selected;"INPUT"===e?(C(t,"checked",r),g(t,"checked",r),C(t,"value",o),b(t,"value",n.value)):"TEXTAREA"===e?C(t,"value",o):"OPTION"===e&&(C(t,"selected",i),g(t,"selected",i))},b=function(t,n,e){null==e?T(t,n):e!==t.getAttribute(n)&&t.setAttribute(n,e)},g=function(t,n,e){!0!==e||t.hasAttribute(n)?!1===e&&T(t,n):t.setAttribute(n,"")},T=function(t,n){t.hasAttribute(n)&&t.removeAttribute(n)},k=function(t){return t&&t.name&&t.attrs&&t.children},w=function(t,n){return 1===t.nodeType&&t.nodeName.toLowerCase()===n.name.toLowerCase()},S=function(t){return 1===t.nodeType?t.getAttribute("domkey"):null},E=function(t){for(var n=t.lastChild;n;n=t.lastChild)A(t,n)},x=function(t,n){t.appendChild(n)},O=function(t,n,e){t.insertBefore(n,e)},A=function(t,n){t.removeChild(n)},N=function(t){return document.createTextNode(t)},j=function(t,n){return null!=t&&i(t).some(function(e){return t[e]===n})},C=function(t,n,e){e!==t[n]&&(t[n]=e)},P=function(t,n){for(var e=t.firstChild;e;e=e.nextSibling)n(e)},_=function(t,n){for(var e=0;e<t;e+=1)n(e)};t.exports=function(t,n){r(n)?l(t,n):null!=n?l(t,[n]):E(t)}},function(t,n,e){"use strict";t.exports=function(){var t=!1,n=null;return function(e){n=e,!t&&n&&(t=!0,window.requestAnimationFrame(function(){t=!1,n&&n(),n=null}))}}},function(t,n,e){"use strict";e.r(n);var o,r,i,u,l,c=e(1),a=e.n(c),d=e(2),f=e.n(d),s=e(3),p=e.n(s),v=e(4),h=e.n(v),m=window.localStorage,y={all:function(t){return t},active:function(t){return t.filter(function(t){return!t.done})},done:function(t){return t.filter(function(t){return t.done})}},b=function(t,n){return t.todos=n,t.editTodo=null,t.newTodoTitle=null,t},g=function(t,n){return t.newTodoTitle=n.title,t},T=function(t){var n=t.newTodoTitle&&t.newTodoTitle.trim();return n&&t.todos.push({id:Date.now(),title:n,done:!1}),t.newTodoTitle=null,t},k=function(t,n){return t.editTodo=n,t},w=function(t){return t.editTodo=null,t},S=function(t,n){var e=n.title&&n.title.trim();return e&&t.todos.filter(function(t){return t.id===n.id}).forEach(function(t){t.title=e}),t.editTodo=null,t},E=function(t,n){return t.todos=t.todos.filter(function(t){return t.id!==n.id}),t.editTodo=null,t},x=function(t){return t.todos=y.active(t.todos),t},O=function(t,n){return t.todos.filter(function(t){return t.id===n.id}).forEach(function(t){t.done=!t.done}),t},A=function(t){var n=y.done(t.todos).length===t.todos.length;return t.todos.forEach(function(t){t.done=!n}),t},N=e(0),j=e.n(N),C=["all","active","done"],P=function(t){var n=t.emit,e=t.todo,o=t.editTodo;return j()("div",{domkey:"todo-"+e.id,class:"panel-block todo-item"},j()("div",{style:J(!o||e.id!==o.id)},j()("input",{type:"checkbox",value:"",checked:e.done,onchange:function(){return n("toggle",{todo:e})}}),j()("label",{class:"todo"+(e.done?" done":""),ondblclick:function(){return n("startEdit",{todo:e})}},e.title)),j()("button",{class:"delete",style:J(!o||e.id!==o.id),onclick:function(){return n("remove",{todo:e})}}),j()("input",{class:"input",style:J(o&&e.id===o.id),type:"text",value:o&&e.id===o.id?o.title:null,"data-editing":o&&e.id===o.id?"*":null,onblur:function(t){return M(t,n,e)},onkeydown:function(t){return I(t,n,e)}}))},_=function(t,n){var e=t.target;if("Enter"===t.key){var o=e.value;e.value="",n("add",{title:o})}},I=function(t,n,e){var o=t.key;"Enter"===o?M(t,n,e):"Escape"!==o&&"Esc"!==o||n("cancelEdit",{})},M=function(t,n,e){var o=t.target;if(o.dataset.editing){var r=o.value,i=r&&r.trim();i?n("update",{todo:e,title:i}):n("remove",{todo:e})}},J=function(t){return t?"":"display:none"},L=function(t){var n=t.state,e=t.emit,o=n.todos,r=n.editTodo,i=n.newTodoTitle,u=n.visibility,l=y.active(o).length,c=y[u](o);return setTimeout(function(){var t=document.querySelector("[data-editing]");t&&t.focus()},0),j()("div",{class:"panel"},j()("div",{class:"panel-heading has-background-info has-text-light"},"Todos"),j()("div",{domkey:"new-todo",class:"panel-block"},j()("input",{class:"input",type:"text",value:i,placeholder:"What needs to be done?",autofocus:!0,onkeydown:function(t){return _(t,e)},oninput:function(t){return e("inputNew",{title:t.target.value})}})),j()("div",{domkey:"nav",class:"panel-tabs"},C.map(function(t){return j()("a",{class:"is-capitalized"+(u===t?" is-active":""),href:"#/"+t},t)})),j()("label",{domkey:"mark-all",class:"panel-block",style:J(o.length)},j()("input",{type:"checkbox",value:"",checked:o.every(function(t){return t.done}),onchange:function(){return e("toggleAll")}}),"Mark all as done"),c.map(function(t){return j()(P,{emit:e,todo:t,editTodo:r})}),j()("div",{domkey:"status",class:"panel-block",style:J(o.length)},j()("strong",null,l),1===l?" item":" items"," left"),j()("div",{domkey:"remove-dones",class:"panel-block",style:J(o.length>l)},j()("button",{class:"button is-primary is-fullwidth",onclick:function(){return e("removeDones")}},"Clear done")))},D=a()();!function(t,n,e,o,r){t.on("inputNew",function(t){n.update(g,t)}).on("add",function(){n.update(T)}).on("startEdit",function(t){n.update(k,t.todo)}).on("cancelEdit",function(){n.update(w)}).on("update",function(t){n.update(S,{id:t.todo.id,title:t.title})}).on("remove",function(t){n.update(E,t.todo)}).on("removeDones",function(){n.update(x)}).on("toggle",function(t){n.update(O,t.todo)}).on("toggleAll",function(){n.update(A)}).on("updateStore",function(t){r.save(t.todos),o.render()}),o.route("#/:vis",function(t,r){var i=t.vis;y[i]?r(function(){var t=n.getState(),o=t.todos,r=t.editTodo,u=t.newTodoTitle;e(L,{todos:o,editTodo:r,newTodoTitle:u,visibility:i})}):o.redirect("#/all")}).route("*",function(){o.redirect("#/all")}),o.start(),n.update(b,r.load())}(D,(o=D.emit,r="updateStore",i="{}",u={getState:function(){return JSON.parse(i)},update:function(t,n){var e=t(u.getState(),n,o);if(null!=e){var l=JSON.stringify(e);i!==l&&(i=l,o(r,u.getState()))}return u}}),function(t,n){var e=h()();return function(o,r){e(function(){return p()(n,o({state:r,emit:t}))})}}(D.emit,document.getElementById("app")),f()(),(l="js-todoapp",{load:function(){return JSON.parse(m.getItem(l)||"[]")},save:function(t){m.setItem(l,JSON.stringify(t))}}))}]);