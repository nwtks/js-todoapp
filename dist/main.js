!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";var o=Array.isArray;function r(e,t){o(t)?t.forEach(function(t){return r(e,t)}):e.push(t)}e.exports=function(e,t){for(var n=[],i=arguments,l=2;l<i.length;l+=1)r(n,i[l]);if("function"==typeof e)return e(t||{},n);var u=document.createElement(e||"div");for(var a in t){var d=t[a];if(null!=d)if("dataset"===a)for(var c in d){var s=d[c];null!=s&&(u.dataset[c]=s)}else if("style"===a)if("string"==typeof d)u.style.cssText=d;else for(var f in d){var v=d[f];null!=v&&(u.style[f]=v)}else a in u||"function"==typeof d?(u[a]=d,!0===d&&u.setAttribute(a.toLowerCase(),"")):"boolean"==typeof d?!0===d&&u.setAttribute(a,""):u.setAttribute(a,d)}return function e(t,n){n.forEach(function(n){null!=n&&(n.nodeType?t.appendChild(n):"string"==typeof n||"number"==typeof n?t.appendChild(document.createTextNode(n)):o(n)&&e(t,n))})}(u,n),u}},function(e,t,n){"use strict";e.exports=function(){var e=Object.create(null),t={on:function(n,o){return e[n]||(e[n]=[]),e[n].push(o),t},off:function(n,o){if(e[n])if(null==o)e[n]=[];else{var r=e[n].indexOf(o);r>=0&&e[n].splice(r,1)}return t},emit:function(n,o){return e[n]&&e[n].forEach(function(e){return e(o)}),t}};return t}},function(e,t,n){"use strict";var o=window.location;function r(e){var t=e.tos,n=e.other,r=o.hash;if(e.path=r,r){var i=r.split("/");if(i.length)for(var l=0;l<t.length;l+=1){var u=t[l],a=u.path;if(i.length===a.length){for(var d=Object.create(null),c=!0,s=0;s<a.length;s+=1){var f=a[s];if(":"===f[0])d[f.substring(1)]=i[s];else if(f!==i[s]){c=!1;break}}if(c)return void u.to(d,v)}}}function v(t){e.render=t,e.render()}n({},v)}e.exports=function(){var e={path:null,render:null,tos:[],other:null,lstnr:null,route:function(t,n){return t&&n&&("*"===t?e.other=n:e.tos.push({path:t.split("/"),to:n})),e},redirect:function(e){o.hash=e},start:function(){e.lstnr=function(){return r(e)},window.addEventListener("hashchange",e.lstnr),r(e)},stop:function(){window.removeEventListener("hashchange",e.lstnr),e.lstnr=null}};return e}},function(e,t,n){"use strict";var o=1;function r(e,t){if(e.nodeType===t.nodeType)if(e.nodeType===o){if(a=t,d=(n=e).getAttribute("data-domsame"),c=a.getAttribute("data-domsame"),d&&c&&d===c||a.isSameNode(n))return;if(function(e,t){for(var n=[],o=[],i=t.firstChild;i;i=i.nextSibling){var a=l(i);o.push({node:i,key:a}),a&&n.push(a)}for(var d=Object.create(null),c=e.firstChild;c;c=c.nextSibling){var s=l(c);s&&(n.indexOf(s)>=0?d[s]=c:e.removeChild(c))}var f=e.firstChild;for(var v in o.forEach(function(t){var n=t.node,o=t.key,i=o?d[o]:null;if(i)delete d[o],i===f?f=f.nextSibling:e.insertBefore(i,f),r(i,n);else if(f)if(o)e.insertBefore(n,f);else for(;;){if(!f){e.appendChild(n);break}var l=f;if(f=f.nextSibling,!u(d,l)){r(l,n);break}}else e.appendChild(n)}),d)e.removeChild(d[v]);var p=e.childNodes.length-o.length;for(;--p>=0;)e.removeChild(e.lastChild)}(e,t),e.nodeName===t.nodeName)!function(e,t){(function(e,t){for(var n=e.attributes,o=n.length-1;o>=0;o-=1){var r=n[o],i=r.namespaceURI,l=r.localName;t.hasAttributeNS(i,l)||e.removeAttributeNS(i,l)}})(e,t),function(e,t){for(var n=t.attributes,o=n.length-1;o>=0;o-=1){var r=n[o],i=r.namespaceURI,l=r.localName,u=t.getAttributeNS(i,l),a=e.getAttributeNS(i,l);u!==a&&e.setAttributeNS(i,l,u)}}(e,t),function(e,t){var n=e.nodeName;if("INPUT"===n){i(e,t,"checked");var o=t.value;e.value!==o&&(e.value=o),t.hasAttributeNS(null,"value")||e.removeAttribute("value")}else if("TEXTAREA"===n){var r=t.value;e.value!==r&&(e.value=r)}else"OPTION"===n&&i(e,t,"selected")}(e,t)}(e,t);else{for(;t.lastChild;)t.removeChild(t.lastChild);for(;e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)}}else e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue);else e.parentNode.replaceChild(t,e);var n,a,d,c}function i(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}function l(e){if(e.nodeType===o)return e.getAttribute("data-domkey")}function u(e,t){for(var n in e)if(e[n]===t)return!0;return!1}e.exports=r},function(e,t,n){"use strict";e.exports=function(){var e=!1,t=null;return function(n){t=n,e||(e=!0,window.requestAnimationFrame(function(){e=!1,t&&t(),t=null}))}}},function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),i=n(2),l=n.n(i),u=n(3),a=n.n(u),d=n(4),c=n.n(d),s=n(0),f=n.n(s),v={all:function(e){return e},active:function(e){return e.filter(function(e){return!e.done})},done:function(e){return e.filter(function(e){return e.done})}};function p(e){var t=e.emit,n=e.todo,o=e.editTodo;return f()("div",{class:"panel-block todo-item","data-domkey":"todo-"+n.id},f()("div",{style:g(n!==o)},f()("input",{type:"checkbox",checked:n.done,onchange:function(){return t("toggle",{todo:n})}}),f()("label",{class:"todo"+(n.done?" done":""),ondblclick:function(){return t("startEdit",{todo:n})}},n.title)),f()("button",{class:"delete",style:g(n!==o),onclick:function(){return t("remove",{todo:n})}}),f()("input",{class:"input",style:g(n===o),type:"text",value:o?o.title:null,"data-editing":n===o?"*":null,onblur:function(e){return h(e,t,n)},onkeydown:function(e){return function(e,t,n){var o=e.key;"Enter"===o?h(e,t,n):"Escape"!==o&&"Esc"!==o||t("cancelEdit",{})}(e,t,n)}}))}function h(e,t,n){if(e.target.dataset.editing){var o=e.target.value,r=o&&o.trim();r?t("update",{todo:n,title:r}):t("remove",{todo:n})}}function g(e){return e?null:"display:none"}var b=function(e){var t=e.emit,n=e.todos,o=e.editTodo,r=e.newTodo,i=e.visibility,l=v.active(n).length,u=v[i](n);return f()("div",{class:"panel"},f()("div",{class:"panel-heading has-background-info has-text-light"},"Todos"),f()("div",{class:"panel-block"},f()("input",{class:"input",type:"text",value:r,placeholder:"What needs to be done?",autofocus:!0,onkeydown:function(e){return function(e,t){if("Enter"===e.key){var n=e.target.value;e.target.value="",t("add",{title:n})}}(e,t)},oninput:function(e){return t("inputNew",{title:e.target.value})}})),f()("div",{class:"panel-tabs"},["all","active","done"].map(function(e){return f()("a",{class:"is-capitalized"+(i===e?" is-active":""),href:"#/"+e},e)})),f()("label",{class:"panel-block",style:g(n.length)},f()("input",{type:"checkbox",checked:n.every(function(e){return e.done}),onchange:function(){return t("toggleAll")}}),"Mark all as done"),u.map(function(e){return f()(p,{todo:e,emit:t,editTodo:o})}),f()("div",{class:"panel-block",style:g(n.length)},f()("strong",null,l),1===l?" item":" items"," left"),f()("div",{class:"panel-block",style:g(n.length>l)},f()("button",{class:"button is-primary is-fullwidth",onclick:function(){return t("removeDones")}},"Clear done")))};var m=function(e){var t=c()();return function(n,o,r){var i=b({emit:o,todos:n.todos,editTodo:n.editTodo,newTodo:n.newTodo,visibility:r});t(function(){var t=e.lastChild;t?a()(t,i):e.appendChild(i)})}},y=window.localStorage,T="js-todoapp";(function(e,t,n,o){n.on("add",function(t){e.add(t.title),e.newTodo=null,o.render()}).on("update",function(t){e.update(t.todo,t.title),e.editTodo=null,o.render()}).on("remove",function(t){e.remove(t.todo),e.editTodo=null,o.render()}).on("removeDones",function(){e.removeDones(),o.render()}).on("toggle",function(t){e.toggle(t.todo),o.render()}).on("toggleAll",function(){e.toggleAll(),o.render()}).on("startEdit",function(t){e.editTodo=t.todo,o.render()}).on("cancelEdit",function(){e.editTodo=null,o.render()}).on("inputNew",function(t){e.newTodo=t.title}),o.route("#/:vis",function(r,i){return v[r.vis]?i(function(){return t(e,n.emit,r.vis)}):o.redirect("#/all")}).route("*",function(){return o.redirect("#/all")}),e.load(),o.start()})(function(){var e={todos:[],editTodo:null,newTodo:null,load:function(){e.todos=JSON.parse(y.getItem(T)||"[]")},save:function(){y.setItem(T,JSON.stringify(e.todos))},add:function(t){var n=t&&t.trim();n&&(e.todos.push({id:Date.now(),title:n,done:!1}),e.save())},update:function(t,n){n&&(t.title=n,e.save())},remove:function(t){e.todos=e.todos.filter(function(e){return e.id!==t.id}),e.save()},removeDones:function(){e.todos=v.active(e.todos),e.save()},toggle:function(t){t.done=!t.done,e.save()},toggleAll:function(){var t=v.done(e.todos).length===e.todos.length;e.todos.forEach(function(e){return e.done=!t}),e.save()}};return e}(),m(document.getElementById("app")),r()(),l()())}]);