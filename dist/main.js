!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){var e=Object.create(null),t={on:function(n,o){return e[n]||(e[n]=[]),e[n].push(o),t},off:function(n,o){if(e[n])if(null==o)e[n]=[];else{var i=e[n].indexOf(o);i>=0&&e[n].splice(i,1)}return t},emit:function(n,o){return e[n]&&e[n].forEach(function(e){return e(o)}),t}};return t};var i=function(e,t){var n=document.createElement(e||"div");for(var o in t){var i=t[o];if(null!=i)if("dataset"===o)for(var l in i){var r=i[l];null!=r&&(n.dataset[l]=r)}else if("style"===o)if("string"==typeof i)n.style.cssText=i;else for(var a in i){var u=i[a];null!=u&&(n.style[a]=u)}else o in n||"function"==typeof i?(n[o]=i,!0===i&&n.setAttribute(o.toLowerCase(),"")):n.setAttribute(o,i)}for(var d=arguments.length,s=new Array(d>2?d-2:0),c=2;c<d;c++)s[c-2]=arguments[c];return function e(t,n){n.forEach(function(n){null!=n&&(n.nodeType?t.appendChild(n):"string"==typeof n||"number"==typeof n?t.appendChild(document.createTextNode(n)):n.length&&e(t,n))})}(n,s),n},l=1;function r(e,t){if(e.nodeType===t.nodeType)if(e.nodeType===l){if(function(e,t){var n=e.getAttribute("data-domsame"),o=t.getAttribute("data-domsame");return n&&o&&n===o||t.isSameNode(e)}(e,t))return;if(function(e,t){var n={},o=e.firstChild;for(;o;){var i=o;o=o.nextSibling;var l=u(i);l&&(n[l]=i)}o=e.firstChild;var a=t.firstChild,s=0;for(;a;){s+=1;var c=a;a=a.nextSibling;var f=u(c),v=f?n[f]:null;if(v)delete n[f],v===o?o=o.nextSibling:e.insertBefore(v,o),r(v,c);else if(o){var p=o;o=o.nextSibling,d(n,p)?e.insertBefore(c,p):r(p,c)}else e.appendChild(c)}for(var m in n)e.removeChild(n[m]);var b=e.childNodes.length-s;for(;--b>=0;)e.removeChild(e.lastChild)}(e,t),e.nodeName===t.nodeName)!function(e,t){for(var n=e.attributes,o=n.length-1;o>=0;o-=1){var i=n[o],l=i.namespaceURI,r=i.localName;t.hasAttributeNS(l,r)||e.removeAttributeNS(l,r)}for(var u=t.attributes,d=u.length-1;d>=0;d-=1){var s=u[d],c=s.namespaceURI,f=s.localName,v=t.getAttributeNS(c,f),p=e.getAttributeNS(c,f);v!==p&&e.setAttributeNS(c,f,v)}var m=e.nodeName;if("INPUT"===m){a(e,t,"checked"),a(e,t,"disabled"),a(e,t,"readOnly");var b=t.value;e.value!==b&&(e.value=b),t.hasAttributeNS(null,"value")||e.removeAttribute("value")}else if("TEXTAREA"===m){a(e,t,"disabled"),a(e,t,"readOnly");var g=t.value;e.value!==g&&(e.value=g)}else"OPTION"===m?(a(e,t,"selected"),a(e,t,"disabled")):"SELECT"===m&&a(e,t,"disabled")}(e,t);else{for(var n=t.cloneNode();e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e)}}else e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue);else e.parentNode.replaceChild(t,e)}function a(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n.toLowerCase(),""):e.removeAttribute(n.toLowerCase()))}function u(e){if(e.nodeType===l)return e.getAttribute("data-domkey")}function d(e,t){for(var n in e)if(e[n]===t)return!0;return!1}var s=r,c={all:function(e){return e},active:function(e){return e.filter(function(e){return!e.done})},done:function(e){return e.filter(function(e){return e.done})}};function f(e,t,n){if(e.target.dataset.editing){var o=e.target.value,i=o&&o.trim();i?t.emit("update",{todo:n,title:i}):t.emit("remove",{todo:n})}}var v=function(e){return function(t,n){var o=function(e,t){var n=e.todos,o=e.editTodo,l=e.visibility,r=c.active(n).length,a=c[l](n);return i("div",{class:"panel"},i("div",{class:"panel-heading"},"Todos"),i("div",{class:"panel-block","data-domsame":"newTodo"},i("input",{class:"input",type:"text",placeholder:"What needs to be done?",autofocus:!0,onkeypress:function(e){return function(e,t){if("Enter"===e.key){var n=e.target.value;e.target.value="",t.emit("add",{title:n})}}(e,t)}})),i("div",{class:"panel-tabs"},i("a",{class:"all"===l?"is-active":null,href:"#/all"},"All"),i("a",{class:"active"===l?"is-active":null,href:"#/active"},"Active"),i("a",{class:"done"===l?"is-active":null,href:"#/done"},"Done")),i("label",{class:"panel-block",style:n.length?null:"display:none"},i("input",{type:"checkbox",checked:n.every(function(e){return e.done}),onchange:function(){return t.emit("toggleAll")}}),"Mark all as done"),a.map(function(e){return i("div",{class:"panel-block todo-item","data-domkey":"todo-"+e.id},i("div",{style:e!==o?null:"display:none"},i("input",{type:"checkbox",checked:e.done,onchange:function(){return t.emit("toggle",{todo:e})}}),i("label",{class:"todo"+(e.done?" done":""),ondblclick:function(){return t.emit("startEdit",{todo:e})}},e.title)),i("button",{class:"delete",style:e!==o?null:"display:none",onclick:function(){return t.emit("remove",{todo:e})}}),i("input",{class:"input",style:e===o?null:"display:none",type:"text",value:o?o.title:null,"data-editing":e===o?"*":null,onblur:function(n){return f(n,t,e)},onkeypress:function(n){return function(e,t,n){var o=e.key;"Enter"===o?f(e,t,n):"Escape"!==o&&"Esc"!==o||t.emit("cancelEdit",{})}(n,t,e)}}))}),i("div",{class:"panel-block",style:n.length?null:"display:none"},i("strong",null,r),1===r?" item left":" items left"),i("div",{class:"panel-block",style:n.length>r?null:"display:none"},i("button",{class:"button is-link is-fullwidth",onclick:function(){return t.emit("removeDones")}},"Clear done")))}(t,n),l=e.lastChild;l?s(l,o):e.appendChild(o)}},p=window.localStorage,m="js-todoapp";(function(e,t,n){t.on("add",function(o){e.add(o.title),n(e,t)}).on("update",function(o){e.update(o.todo,o.title),e.editTodo=null,n(e,t)}).on("remove",function(o){e.remove(o.todo),e.editTodo=null,n(e,t)}).on("removeDones",function(){e.removeDones(),n(e,t)}).on("toggle",function(o){e.toggle(o.todo),n(e,t)}).on("toggleAll",function(){e.toggleAll(),n(e,t)}).on("startEdit",function(o){e.editTodo=o.todo,n(e,t)}).on("cancelEdit",function(){e.editTodo=null,n(e,t)});var o=function(e,t,n){return function(){var o=window.location.hash.replace(/#\/?/,"");c[o]?e.visibility=o:(window.location.hash="",e.visibility="all"),n(e,t)}}(e,t,n);window.addEventListener("hashchange",o),e.load(),o()})(function(){var e={todos:[],editTodo:null,visibility:null,load:function(){e.todos=JSON.parse(p.getItem(m)||"[]")},save:function(){p.setItem(m,JSON.stringify(e.todos))},add:function(t){var n=t&&t.trim();n&&(e.todos.push({id:Date.now(),title:n,done:!1}),e.save())},update:function(t,n){n&&(t.title=n,e.save())},remove:function(t){e.todos=e.todos.filter(function(e){return e.id!==t.id}),e.save()},removeDones:function(){e.todos=c.active(e.todos),e.save()},toggle:function(t){t.done=!t.done,e.save()},toggleAll:function(){var t=c.done(e.todos).length===e.todos.length;e.todos.forEach(function(e){return e.done=!t}),e.save()}};return e}(),o(),v(document.getElementById("app")))}]);