!function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=5)}([function(t,n,e){"use strict";var o=function t(n,e){return Array.isArray(e)?e.forEach(function(e){return t(n,e)}):n.push(e),n};t.exports=function(t,n){for(var e=[],r=arguments.length-2;r-- >0;)e[r]=arguments[r+2];var u=o([],e);return"function"==typeof t?t(n||{},u):{name:t||"div",attrs:n||{},children:u.filter(function(t){return null!=t})}}},function(t,n,e){"use strict";t.exports=function(){var t=Object.create(null),n={on:function(e,o){return t[e]||(t[e]=[]),t[e].push(o),n},off:function(e,o){return t[e]&&(t[e]=null==o?[]:t[e].filter(function(t){return t!==o})),n},emit:function(e,o){return t[e]&&t[e].forEach(function(t){return t(o)}),n}};return n}},function(t,n,e){"use strict";var o=window.location;t.exports=function(){var t=null,n=[],e=null,r={path:null,render:null,route:function(t,o){return t&&o&&("*"===t?e=o:n.push({path:t.split("/"),to:o})),r},redirect:function(t){return o.hash=t},start:function(){t&&r.stop(),t=function(){var t=o.hash;r.path=t,function(t,n,e,o){if(t){var r=t.split("/");if(r.length&&n.some(function(t){var n=t.path;if(r.length!==n.length)return!1;var e=Object.create(null),u=n.every(function(t,n){var o=r[n];return":"===t[0]?(e[t.substring(1)]=o,!0):t===o});return u&&t.to(e,o),u}))return}e&&e({},o)}(t,n,e,u)},window.addEventListener("hashchange",t),t()},stop:function(){window.removeEventListener("hashchange",t),t=null}},u=function(t){r.render=t,r.render()};return r}},function(t,n,e){"use strict";t.exports=function(){var t=!1,n=null;return function(e){n=e,!t&&n&&(t=!0,window.requestAnimationFrame(function(){t=!1,n&&n(),n=null}))}}},function(t,n,e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=Array.isArray,u=Object.getOwnPropertyNames,i=Array.prototype.slice,l=function(t,n){if("TEXTAREA"!==t.nodeName){var e=d(t,n),r=t.firstChild;n.forEach(function(n){var u=o(n);"string"===u||"number"===u?r=c(t,r,""+n):T(n)&&(r=a(t,r,e,n))}),f(t,e),s(t,n)}},c=function(t,n,e){return n?3===n.nodeType?(n.nodeValue!==e&&(n.nodeValue=e),n=n.nextSibling):S(t,j(e),n):A(t,j(e)),n},a=function(t,n,e,o){var r=o.attrs.domkey,u=r?e[r]:null;if(u)delete e[r],p(u,o.attrs),l(u,o.children),u===n?n=n.nextSibling:S(t,u,n);else if(n)if(r)S(t,v(o),n);else for(;;){if(!n){A(t,v(o));break}if(!N(e,n)){w(n,o)?(p(n,o.attrs),l(n,o.children),n=n.nextSibling):S(t,v(o),n);break}n=n.nextSibling}else A(t,v(o));return n},d=function(t,n){var e=[];n.filter(function(t){return t&&t.attrs&&t.attrs.domkey}).forEach(function(t){return e.push(t.attrs.domkey)});var o=Object.create(null);return P(t,function(n){var r=E(n);r&&(e.indexOf(r)>=0?o[r]=n:O(t,n))}),o},f=function(t,n){return u(n).forEach(function(e){return O(t,n[e])})},s=function(t,n){_(t.childNodes.length-n.length,function(){return O(t,t.lastChild)})},v=function(t){var n=document.createElement(t.name);return p(n,t.attrs),l(n,t.children),n},p=function(t,n){m(t,n),u(n).forEach(function(e){return h(t,e,n[e])}),y(t,n)},m=function(t,n){i.call(t.attributes).forEach(function(e){var o=e.name;n.hasOwnProperty(o)&&null!=n[o]||k(t,o)})},h=function(t,n,e){var r=o(e);"style"===n?g(t,n,e):n in t?(C(t,n,e),"boolean"===r&&b(t,n,e)):"function"===r||"o"===n[0]&&"n"===n[1]?C(t,n,e):"boolean"===r?b(t,n,e):g(t,n,e)},y=function(t,n){var e=t.nodeName,o=null==n.value?"":""+n.value,r=!!n.checked,u=!!n.selected;"INPUT"===e?(C(t,"checked",r),b(t,"checked",r),C(t,"value",o),g(t,"value",n.value)):"TEXTAREA"===e?C(t,"value",o):"OPTION"===e&&(C(t,"selected",u),b(t,"selected",u))},g=function(t,n,e){null==e?k(t,n):e!==t.getAttribute(n)&&t.setAttribute(n,e)},b=function(t,n,e){!0!==e||t.hasAttribute(n)?!1===e&&k(t,n):t.setAttribute(n,"")},k=function(t,n){t.hasAttribute(n)&&t.removeAttribute(n)},T=function(t){return t&&t.name&&t.attrs&&t.children},w=function(t,n){return 1===t.nodeType&&t.nodeName.toLowerCase()===n.name.toLowerCase()},E=function(t){return 1===t.nodeType?t.getAttribute("domkey"):null},x=function(t){for(var n=t.lastChild;n;n=t.lastChild)O(t,n)},A=function(t,n){return t.appendChild(n)},S=function(t,n,e){return t.insertBefore(n,e)},O=function(t,n){return t.removeChild(n)},j=function(t){return document.createTextNode(t)},N=function(t,n){return null!=t&&u(t).some(function(e){return t[e]===n})},C=function(t,n,e){e!==t[n]&&(t[n]=e)},P=function(t,n){for(var e=t.firstChild;e;e=e.nextSibling)n(e)},_=function(t,n){for(var e=0;e<t;e+=1)n(e)};t.exports=function(t,n){r(n)?l(t,n):null!=n?l(t,[n]):x(t)}},function(t,n,e){"use strict";e.r(n);var o=e(1),r=e.n(o),u=e(2),i=e.n(u),l=e(3),c=e.n(l),a=e(4),d=e.n(a),f={all:function(t){return t},active:function(t){return t.filter(function(t){return!t.done})},done:function(t){return t.filter(function(t){return t.done})}},s=window.localStorage,v=function(){var t={todos:[],editTodo:null,newTodo:null,load:function(){return t.todos=JSON.parse(s.getItem("js-todoapp")||"[]")},save:function(){return s.setItem("js-todoapp",JSON.stringify(t.todos))},add:function(n){var e=n&&n.trim();e&&(t.todos.push({id:Date.now(),title:e,done:!1}),t.save())},update:function(n,e){e&&(n.title=e,t.save())},remove:function(n){t.todos=t.todos.filter(function(t){return t.id!==n.id}),t.save()},removeDones:function(){t.todos=f.active(t.todos),t.save()},toggle:function(n){n.done=!n.done,t.save()},toggleAll:function(){var n=f.done(t.todos).length===t.todos.length;t.todos.forEach(function(t){return t.done=!n}),t.save()}};return t},p=e(0),m=e.n(p),h=["all","active","done"],y=function(t){var n=t.emit,e=t.todo,o=t.editTodo;return m()("div",{domkey:"todo-"+e.id,class:"panel-block todo-item"},m()("div",{style:T(e!==o)},m()("input",{type:"checkbox",value:"",checked:e.done,onchange:function(){return n("toggle",{todo:e})}}),m()("label",{class:"todo"+(e.done?" done":""),ondblclick:function(){return n("startEdit",{todo:e})}},e.title)),m()("button",{class:"delete",style:T(e!==o),onclick:function(){return n("remove",{todo:e})}}),m()("input",{class:"input",style:T(e===o),type:"text",value:o?o.title:null,"data-editing":e===o?"*":null,onblur:function(t){return k(t,n,e)},onkeydown:function(t){return b(t,n,e)}}))},g=function(t,n){if("Enter"===t.key){var e=t.target.value;t.target.value="",n("add",{title:e})}},b=function(t,n,e){var o=t.key;"Enter"===o?k(t,n,e):"Escape"!==o&&"Esc"!==o||n("cancelEdit",{})},k=function(t,n,e){if(t.target.dataset.editing){var o=t.target.value,r=o&&o.trim();r?n("update",{todo:e,title:r}):n("remove",{todo:e})}},T=function(t){return t?"":"display:none"},w=function(t){var n=t.emit,e=t.state,o=e.todos,r=e.editTodo,u=e.newTodo,i=e.visibility,l=f.active(o).length,c=f[i](o);return setTimeout(function(){var t=document.querySelector("[data-editing]");t&&t.focus()},0),m()("div",{class:"panel"},m()("div",{class:"panel-heading has-background-info has-text-light"},"Todos"),m()("div",{domkey:"new-todo",class:"panel-block"},m()("input",{class:"input",type:"text",value:u,placeholder:"What needs to be done?",autofocus:!0,onkeydown:function(t){return g(t,n)},oninput:function(t){return n("inputNew",{title:t.target.value})}})),m()("div",{domkey:"nav",class:"panel-tabs"},h.map(function(t){return m()("a",{class:"is-capitalized"+(i===t?" is-active":""),href:"#/"+t},t)})),m()("label",{domkey:"mark-all",class:"panel-block",style:T(o.length)},m()("input",{type:"checkbox",value:"",checked:o.every(function(t){return t.done}),onchange:function(){return n("toggleAll")}}),"Mark all as done"),c.map(function(t){return m()(y,{todo:t,emit:n,editTodo:r})}),m()("div",{domkey:"status",class:"panel-block",style:T(o.length)},m()("strong",null,l),1===l?" item":" items"," left"),m()("div",{domkey:"remove-dones",class:"panel-block",style:T(o.length>l)},m()("button",{class:"button is-primary is-fullwidth",onclick:function(){return n("removeDones")}},"Clear done")))},E=function(t,n,e){var o=v();n.on("add",function(t){o.add(t.title),o.newTodo=null,e.render()}).on("update",function(t){o.update(t.todo,t.title),o.editTodo=null,e.render()}).on("remove",function(t){o.remove(t.todo),o.editTodo=null,e.render()}).on("removeDones",function(){o.removeDones(),e.render()}).on("toggle",function(t){o.toggle(t.todo),e.render()}).on("toggleAll",function(){o.toggleAll(),e.render()}).on("startEdit",function(t){o.editTodo=t.todo,e.render()}).on("cancelEdit",function(){o.editTodo=null,e.render()}).on("inputNew",function(t){o.newTodo=t.title}),e.route("#/:vis",function(n,r){return f[n.vis]?r(function(){return t(w,{todos:o.todos,editTodo:o.editTodo,newTodo:o.newTodo,visibility:n.vis})}):e.redirect("#/all")}).route("*",function(){return e.redirect("#/all")}),o.load(),e.start()},x=r()(),A=i()(),S=c()(),O=document.getElementById("app");E(function(t,n){return S(function(){return d()(O,t({state:n,emit:x.emit}))})},x,A)}]);